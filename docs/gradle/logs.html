---
layout: gradle
pill: logs
---
<img src="/assets/img/commands/logs.png" alt="logs">

<h2>boxfuseLogs</h2>

<p>Display the console logs of an <em>Instance</em> running either on your machine or on AWS.</p>

<p><strong>Usage: </strong> gradle boxfuseLogs -Dboxfuse.instances=<em>instance</em></p>

<pre class="console">&gt; gradle boxfuseLogs -Dboxfuse.instances=vb-b100efe1

init started: BusyBox v1.22.1 (2014-05-18 17:19:42 UTC)
starting pid 522, tty '': '/etc/init.d/rcS'
udhcpc (v1.22.1) started
Setting IP address 0.0.0.0 on eth0
Sending discover...
Sending select for 10.0.2.15...
Lease of 10.0.2.15 obtained, lease time 86400
Setting IP address 10.0.2.15 on eth0
ifconfig: bad address '+'
Adding router 10.0.2.2
Adding DNS server 192.168.0.1
sh: busybox: unknown operand

******************************************************************************

boxfuse is in the house!

Payload
-------
Name        : hello-1.0.war
Type        : War
Checksum    : 41419a8b

Image
-----
Id          : ba-f941bab99ce44830afaf06868496c83d
Coordinates : axelfontaine/hello:1.0
Debug       : false
Strace      : false
Ports       : http -> 80

Instance
--------
Id          : vb-b100efe1
IP Address  : 10.0.2.15
JVM Heap    : 795M

Environment
-----------
BOOT_IMAGE=efi/boot/bootx64.efi
BOXFUSE_COMPONENTS_BUSYBOX=1.22.1
BOXFUSE_COMPONENTS_CACERTS=2014.04.08
BOXFUSE_COMPONENTS_GLIBC=2.20
BOXFUSE_COMPONENTS_LINUX=3.15.9
BOXFUSE_COMPONENTS_OPENJDK=8.20.26
BOXFUSE_COMPONENTS_TOMCAT=8.0.9
BOXFUSE_HOST_IP=192.168.0.12
BOXFUSE_IMAGE_APP=hello
BOXFUSE_IMAGE_ID=ba-f941bab99ce44830afaf06868496c83d
BOXFUSE_IMAGE_OWNER=axelfontaine
BOXFUSE_IMAGE_VERSION=1.0
BOXFUSE_INSTANCE_ID=vb-b100efe1
BOXFUSE_INSTANCE_IP=10.0.2.15
BOXFUSE_PAYLOAD_NAME=hello-1.0.war
BOXFUSE_PLATFORM_ID=virtualbox
BOXFUSE_PLATFORM_NAME=VirtualBox
BOXFUSE_VERSION=1.0.2.546
HOME=/
LD_LIBRARY_PATH=/lib/x86_64-linux-gnu
PATH=/sbin:/bin
PWD=/
SHELL=/bin/sh
TERM=vt102
USER=root
initrd=initrd.gz
vga=extended

******************************************************************************

Launching App ...
/openjdk/bin/java -d64 -Xms10m -Xmx795m -Djavax.net.ssl.trustStore=/cacerts/cacerts -Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom -Djdk.reflect.allowGetCallerClass=true -cp "/tomcat/bin/*" org.apache.catalina.startup.Bootstrap
Mar 03, 2015 8:47:09 PM org.apache.coyote.AbstractProtocol init
INFO: Initializing ProtocolHandler ["http-nio-80"]
Mar 03, 2015 8:47:09 PM org.apache.tomcat.util.net.NioSelectorPool getSharedSelector
INFO: Using a shared selector for servlet write/read
Mar 03, 2015 8:47:09 PM org.apache.catalina.startup.Catalina load
INFO: Initialization processed in 361 ms
Mar 03, 2015 8:47:09 PM org.apache.catalina.core.StandardService startInternal
INFO: Starting service Catalina
Mar 03, 2015 8:47:09 PM org.apache.catalina.core.StandardEngine startInternal
INFO: Starting Servlet Engine: Apache Tomcat/8.0.9
Mar 03, 2015 8:47:09 PM org.apache.catalina.startup.HostConfig deployWAR
INFO: Deploying web application archive /tomcat/webapps/ROOT.war
HelloServlet: You should see this in the Instance Logs :-)
Mar 03, 2015 8:47:09 PM org.apache.catalina.startup.HostConfig deployWAR
INFO: Deployment of web application archive /tomcat/webapps/ROOT.war has finished in 257 ms
Mar 03, 2015 8:47:09 PM org.apache.coyote.AbstractProtocol start
INFO: Starting ProtocolHandler ["http-nio-80"]
Mar 03, 2015 8:47:09 PM org.apache.catalina.startup.Catalina start
INFO: Server startup in 302 ms</pre>

<h3>Class name</h3><p><code>com.boxfuse.client.gradle.task.LogsTask</code></p>

<h3>Properties</h3>

<table class="table table-hover">
    <thead>
    <tr>
        <th>Plugin Parameter</th>
        <th>Gradle/System property</th>
        <th>Default</th>
        <th>Description</th>
    </tr>
    </thead>
    <tr>
        <td>user</td>
        <td>boxfuse.user</td>
        <td></td>
        <td><strong>Required</strong> - Your Boxfuse Client user. Also configurable via the <code>BOXFUSE_USER</code>
            environment variable</td>
    </tr>
    <tr>
        <td>secret</td>
        <td>boxfuse.secret</td>
        <td></td>
        <td><strong>Required</strong> - Your Boxfuse Client secret. Also configurable via the <code>BOXFUSE_SECRET</code>
            environment variable</td>
    </tr>
    <tr>
        <td>env</td>
        <td>boxfuse.env</td>
        <td>dev</td>
        <td>Use the AWS <code>test</code> or <code>prod</code> environments instead of the local <code>dev</code> one</td>
    </tr>
    <tr id="logsBoot">
        <td>logsBoot</td>
        <td>boxfuse.logs.boot</td>
        <td>false</td>
        <td>Shows the instance boot logs instead of the application logs</td>
    </tr>
    <tr id="logsFilter">
        <td>logsFilter</td>
        <td>boxfuse.logs.filter.<em>FILTER</em></td>
        <td></td>
        <td><p><i>CloudWatch Logs apps only</i></p>
            <p>The filter to apply when viewing the application logs.</p>
            <p>Supported filters:</p>
            <table class="table table-striped">
                <tr>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Example</th>
                </tr>
                <tr>
                    <td><code>instance</code></td>
                    <td>Only show logs for the instance with this id</td>
                    <td>i-12345678</td>
                </tr>
                <tr>
                    <td><code>image</code></td>
                    <td>Only show logs for instances of this Boxfuse image</td>
                    <td>myuser/myapp:123</td>
                </tr>
                <tr>
                    <td><code>app</code></td>
                    <td>Only show logs for instances of this Boxfuse app</td>
                    <td>myuser/myapp</td>
                </tr>
                <tr>
                    <td><code>level</code></td>
                    <td>Only show log events at this log level or higher (possible values: <code>TRACE</code>,<code>DEBUG</code>,<code>INFO</code>,<code>WARN</code>,<code>ERROR</code>)</td>
                    <td>WARN</td>
                </tr>
                <tr>
                    <td><code>event</code></td>
                    <td>Only show logs events with this exact event id</td>
                    <td>USER_CREATED</td>
                </tr>
                <tr>
                    <td><code>logger</code></td>
                    <td>Only show logs events with this exact logger</td>
                    <td>com.myapp.MyClass</td>
                </tr>
                <tr>
                    <td><code>thread</code></td>
                    <td>Only show logs events created on this exact thread</td>
                    <td>main</td>
                </tr>
                <tr>
                    <td><code>account</code></td>
                    <td>Only show logs events in relation to this account in the system</td>
                    <td>my-account</td>
                </tr>
                <tr>
                    <td><code>action</code></td>
                    <td>Only show logs events in relation to a domain-specific element in the system (like an customer order for example)</td>
                    <td>order-12345</td>
                </tr>
                <tr>
                    <td><code>user</code></td>
                    <td>Only show logs events in relation to this user of the account (for systems with the concept of teams or multiple users per account)</td>
                    <td>MyUser</td>
                </tr>
                <tr>
                    <td><code>session</code></td>
                    <td>Only show logs events for the session with this id</td>
                    <td>session-9876543210</td>
                </tr>
                <tr>
                    <td><code>request</code></td>
                    <td>Only show logs events for the request with this id</td>
                    <td>req-111222333</td>
                </tr>
                <tr>
                    <td><code>message</code></td>
                    <td>Only show logs events with this message</td>
                    <td>my-log-message</td>
                </tr>
                <tr>
                    <td><code>limit</code></td>
                    <td>Limit output to first n log messages where 1 &lt;= n &lt;= 10000</td>
                    <td>2500</td>
                </tr>
                <tr>
                    <td><code>start</code></td>
                    <td>Limit output to log messages created after this date and time.
                        <p>Supported date formats:</p>
                        <ul>
                            <li>2016-12-08 11:22:44</li>
                            <li>2016-12-08 11:22</li>
                            <li>2016-12-08</li>
                            <li>11:22:44</li>
                            <li>11:22</li>
                        </ul>
                        <p>The space between date and time can also be replaced by the letter <code>T</code> like in standard ISO dates. Example: <code>2016-12-08T11:22:44</code></p>
                        <p>By appending <code>Z</code> to the time it will be treated as UTC instead of local time. Example: <code>2016-12-08 11:22:44Z</code></p>
                        <p>As an alternative to the absolute date/time you also have the option to pass in the relative number of seconds to the current time. Example: <code>-600</code> (10 minutes ago)</p>
                    </td>
                    <td>2016-12-07 12:34:56</td>
                </tr>
                <tr>
                    <td><code>end</code></td>
                    <td>Limit output to log messages created before this date and time.
                        <p>Supported date formats:</p>
                        <ul>
                            <li>2016-12-08 11:22:44</li>
                            <li>2016-12-08 11:22</li>
                            <li>2016-12-08</li>
                            <li>11:22:44</li>
                            <li>11:22</li>
                        </ul>
                        <p>The space between date and time can also be replaced by the letter <code>T</code> like in standard ISO dates. Example: <code>2016-12-08T11:22:44</code></p>
                        <p>By appending <code>Z</code> to the time it will be treated as UTC instead of local time. Example: <code>2016-12-08 11:22:44Z</code></p>
                        <p>As an alternative to the absolute date/time you also have the option to pass in the relative number of seconds to the current time. Example: <code>-600</code> (10 minutes ago)</p>
                    </td>
                    <td>2016-12-08 20:10:00</td>
                </tr>
            </table>
            <p><strong>Wildcards:</strong> Wilcard matching is supported by prepending and/or appending an asterisk
                (<code>*</code>) to the filter value. Examples:</p>
            <table class="table table-striped table-condensed">
                <tr>
                    <td><code>*abc</code></td>
                    <td>match all ending with <code>abc</code></td>
                </tr>
                <tr>
                    <td><code>abc*</code></td>
                    <td>match all starting with <code>abc</code></td>
                </tr>
                <tr>
                    <td><code>*abc*</code></td>
                    <td>match all starting or ending with <code>abc</code></td>
                </tr>
            </table>
        </td>
    </tr>
    <tr id="logsLayout">
        <td>logsLayout</td>
        <td>boxfuse.logs.layout</td>
        <td><code>timestamp app? image? instance? event? 40:logger? 10:thread? account? action? user? session? request? message?</code></td>
        <td>
            <p><i>CloudWatch Logs apps only</i></p>
            <p>The layout to use when displaying the logs.</p>
            <p><strong>Format:</strong></p>
            <ul>
                <li>All fields are separated by a single whitespace and are variable-width by default</li>
                <li>Appending <code>?</code> to the field name hides the field if a filter matches it exactly</li>
                <li>Prepending a number and a column (example: <code>10:</code>) left trims or left pads the field to that
                    length
                </li>
                <li>Appending a number and a column (example: <code>:10</code>) right trims or right pads the field to that
                    length
                </li>
                <li>Valid field names: <code>level</code>, <code>timestamp</code>, <code>app</code>, <code>image</code>,
                    <code>instance</code>, <code>event</code>, <code>logger</code>, <code>thread</code>, <code>account</code>,
                    <code>action</code>, <code>user</code>, <code>session</code>, <code>request</code>,
                    <code>message</code>
                </li>
            </ul>
            <p>Example: <code>level:5 image logger?:30 10:thread</code> shows 4 fields:</p>
            <ul>
                <li><code>level</code> fixed width of 5, right padded or right trimmed if necessary</li>
                <li><code>image</code> variable width</li>
                <li><code>logger</code> fixed width of 30, right padded or right trimmed if necessary, hidden if matched
                    exactly in filter
                </li>
                <li><code>thread</code> fixed width of 10, left padded or left trimmed if necessary</li>
            </ul>
        </td>
    </tr>
    <tr id="logsTail">
        <td>logsTail</td>
        <td>boxfuse.logs.tail</td>
        <td>false</td>
        <td>Tail (keep running with live updates) the logs</td>
    </tr>
    <tr>
        <td>instances</td>
        <td>boxfuse.instances</td>
        <td></td>
        <td>The comma-separated list of ids of the Instance to work with</td>
    </tr>
</table>

<h3>Sample Configuration</h3>

<pre class="prettyprint">boxfuse {
    user='1234567890abcdef1234567890abcdef12345678'
    secret='ABCDEFGHIJKL1234567abcdefghijklmnopqrstu'
    env='prod'
    logsBoot=true
    logsFilter=[
        'account':'MyAccount123',
        'level':'WARN'
    ]
    logsLayout='timestamp app? image? instance? event? 40:logger? account? session? request? message?'
    logsTail=true
    instances='vb-ec717c5e'
}</pre>

<p class="next-steps">
    <a class="btn btn-primary" href="/docs/gradle/destroy">destroy <i class="fa fa-arrow-right"></i></a>
</p>